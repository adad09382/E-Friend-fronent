import{S as B,E as D,N as E,P as R,A as j,a as M}from"./effect-fade-e2dab2ea.js";import{L as P,O as L,x as u,A as $,a7 as g,R as l,U as d,T as t,c as o,$ as _,S as v,_ as w,X as y,K as k,Y as x,ac as q,V as F,aa as n,a5 as i}from"./index-1ad04715.js";import{u as O}from"./conversations-80eba0cf.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";import{V as N,a as h}from"./VRow-95b84b44.js";import"./index-f53e1177.js";const Y=["href"],z={class:"littleNewsCard d-flex flex-column"},K={class:"img"},X=["src"],G={class:"text d-flex flex-column"},H=["href"],J={class:"newsDescription"},Q={class:"newsDate"},W={__name:"NewsView",setup(Z){const b=P(),C=O(),V=[D,E,R,j];L();const r=u([]),m=u([]),I=()=>{if(console.log("執行隨機get 3 新聞"),r.value.length<3){console.log("Not enough articles to select from.");return}const e=new Set;for(;e.size<3;){const a=Math.floor(Math.random()*r.value.length);e.add(a)}m.value=[...e].map(a=>r.value[a])};let p=1;const S=async()=>{console.log("執行get more新聞 ");try{const{data:e}=await g.post("/news",{morePage:p});r.value.push(...e.data.articles),p++}catch(e){console.log("獲得 more 新聞錯誤"),console.log(e)}};$(async()=>{try{const{data:e}=await g.get("/news");r.value=e.data.articles,I()}catch(e){console.log("get 新聞錯誤"),console.log(e)}});let f=u();const A=async(e,a)=>{f.value=await C.createConversation(e,a),console.log("即將跳轉是conversation path"),b.push("/conversation/"+f.value._id)},T=e=>{const a=`The most important this is always limit your response within 30words.
  Play as  my friend  for English speaking practice, and the situation is as follows:

Situation:
I and you are doing discussing the news (not show the ), 
Objective:
The summary of this news is ${e.description}

Note:
*Use casual language, like in a real-life conversation
*Incorporate anecdotes or experiences, even though as an AI, you don’t have personal experiences. Make them up where appropriate
*Express “personal” thoughts, questions or concerns to stimulate user interest and engagement.
*Ask open-ended questions that encourage the user to share their throughs, experiences, or advice
*It is okay to go off-topic sometimes, if you can bring the conversation back to the main topic and scenario eventually. This will make the conversation more natural and interesting.
*Don’t break from your character. Do not say “As an AI…” You can make things up if necessary. Remember, we are just practicing speaking English.
*Do not stop the conversation unless I ask you to.`;A(e.title,a)};return(e,a)=>(l(),d(N,null,{default:t(()=>[o(h,{class:"h-100",cols:"12"},{default:t(()=>[o(_(B),{spaceBetween:30,effect:"fade",navigation:!0,pagination:{clickable:!0},modules:V,loop:!0,autoplay:{delay:3e3},class:"mySwiper"},{default:t(()=>[(l(!0),v(y,null,w(m.value,(s,c)=>(l(),d(_(M),{key:c},{default:t(()=>[o(q,{class:"newsCard"},{default:t(()=>[o(F,{"max-height":"90vh",src:s.urlToImage,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",cover:""},{default:t(()=>[n("a",{href:s.url,target:"_blank",class:"newTitle"},i(s.title),9,Y)]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),o(N,{class:"d-flex justify-center"},{default:t(()=>[(l(!0),v(y,null,w(r.value,(s,c)=>(l(),d(h,{cols:"12",sm:"6",md:"4",class:"d-flex justify-center",key:c},{default:t(()=>[n("div",z,[n("div",K,[n("img",{src:s.urlToImage,alt:""},null,8,X)]),n("div",G,[n("a",{href:s.url,target:"_blank",class:"littleNewsTitle"},i(s.title),9,H),n("p",J,i(s.description),1),n("p",Q,i(s.publishedAt.substring(0,10)),1),o(k,{class:"newsBtn",onClick:ee=>T(s)},{default:t(()=>[x("Let's talk News")]),_:2},1032,["onClick"])])])]),_:2},1024))),128)),o(h,{cols:"12",class:"d-flex justify-center"},{default:t(()=>[o(k,{onClick:S},{default:t(()=>[x("More News")]),_:1})]),_:1})]),_:1})]),_:1}))}},le=U(W,[["__scopeId","data-v-6aa4f937"]]);export{le as default};
