import{aQ as y,aR as M,$ as C,t as x,aS as A,aT as D,x as u,s as F,z as v,o as U,aU as $,A as b}from"./index-7ec7f92a.js";function j(e){return y()?(M(e),!0):!1}function g(e){return typeof e=="function"?e():C(e)}const k=typeof window<"u",z=()=>{};function B(...e){if(e.length!==1)return x(...e);const o=e[0];return typeof o=="function"?A(D(()=>({get:o,set:z}))):u(o)}const I=k?window:void 0;function L(){const e=u(!1);return $()&&b(()=>{e.value=!0}),e}function O(e){const o=L();return U(()=>(o.value,!!e()))}function T(e={}){const{interimResults:o=!0,continuous:w=!0,window:i=I}=e,r=B(e.lang||"en-US"),t=u(!1),c=u(!1),f=u(""),l=F(void 0),R=(s=!t.value)=>{t.value=s},S=()=>{t.value=!0},m=()=>{t.value=!1},p=i&&(i.SpeechRecognition||i.webkitSpeechRecognition),d=O(()=>p);let n;return d.value&&(n=new p,n.continuous=w,n.interimResults=o,n.lang=g(r),n.onstart=()=>{c.value=!1},v(r,s=>{n&&!t.value&&(n.lang=s)}),n.onresult=s=>{const h=Array.from(s.results).map(a=>(c.value=a.isFinal,a[0])).map(a=>a.transcript).join("");f.value=h,l.value=void 0},n.onerror=s=>{l.value=s},n.onend=()=>{t.value=!1,n.lang=g(r)},v(t,()=>{t.value?n.start():n.stop()})),j(()=>{t.value=!1}),{isSupported:d,isListening:t,isFinal:c,recognition:n,result:f,error:l,toggle:R,start:S,stop:m}}export{T as u};
