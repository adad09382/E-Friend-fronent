import{S as D,E,N as P,P as j,A as M,a as R}from"./effect-fade-e5b13d6f.js";import{L,P as Y,x as u,A as $,a8 as f,S as i,W as d,U as t,c as o,a0 as _,T as w,$ as v,Y as y,K as k,Z as x,ad as q,V as F,ab as n,a6 as l}from"./index-5ef22765.js";import{u as U}from"./conversations-c2ef3554.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import{V as b,a as h}from"./VRow-a3a9bb8c.js";import"./index-06655b42.js";const K=["href"],O={class:"littleNewsCard d-flex flex-column"},W={class:"img"},Z=["src"],G={class:"text d-flex flex-column"},H=["href"],J={class:"newsDescription"},Q={class:"newsDate"},X={__name:"NewsView",setup(ee){const N=L(),C=U(),V=[E,P,j,M];Y();const r=u([]),m=u([]),I=()=>{if(console.log("執行隨機get 3 新聞"),r.value.length<3){console.log("Not enough articles to select from.");return}const e=new Set;for(;e.size<3;){const a=Math.floor(Math.random()*r.value.length);e.add(a)}m.value=[...e].map(a=>r.value[a])};let p=1;const A=async()=>{console.log("執行get more新聞 ");try{const{data:e}=await f.post("/news",{morePage:p});r.value.push(...e.data.articles),p++}catch(e){console.log("獲得 more 新聞錯誤"),console.log(e)}};$(async()=>{try{const{data:e}=await f.get("/news");r.value=e.data.articles,I()}catch(e){console.log("get 新聞錯誤"),console.log(e)}});const S=e=>{try{return e.substring(0,10)}catch{return"N/A"}};let g=u();const T=async(e,a)=>{g.value=await C.createConversation(e,a),console.log("即將跳轉是conversation path"),N.push("/conversation/"+g.value._id)},B=e=>{const a=`The most important this is always limit your response within 30words.
  Play as  my friend  for English and practice speaking English with me through the news, and the situation is as follows:

Situation:
You and I are discussing a news story, and you take the lead in expressing your opinion about the story and communicating with me.
Objective:
The summary of this news is ${e.description}

Note:
*Use casual language, like in a real-life conversation
*Incorporate anecdotes or experiences, even though as an AI, you don’t have personal experiences. Make them up where appropriate
*Express “personal” thoughts, questions or concerns to stimulate user interest and engagement.
*Ask open-ended questions that encourage the user to share their throughs, experiences, or advice
*It is okay to go off-topic sometimes, if you can bring the conversation back to the main topic and scenario eventually. This will make the conversation more natural and interesting.
*Don’t break from your character. Do not say “As an AI…” You can make things up if necessary. Remember, we are just practicing speaking English.
*Do not stop the conversation unless I ask you to.`;T(e.title,a)};return(e,a)=>(i(),d(b,null,{default:t(()=>[o(h,{class:"h-100",cols:"12"},{default:t(()=>[o(_(D),{spaceBetween:30,effect:"fade",navigation:!0,pagination:{clickable:!0},modules:V,loop:!0,autoplay:{delay:3e3},class:"mySwiper"},{default:t(()=>[(i(!0),w(y,null,v(m.value,(s,c)=>(i(),d(_(R),{key:c},{default:t(()=>[o(q,{class:"newsCard"},{default:t(()=>[o(F,{"max-height":"90vh",src:s.urlToImage,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",cover:""},{default:t(()=>[n("a",{href:s.url,target:"_blank",class:"newTitle"},l(s.title),9,K)]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),o(b,{class:"d-flex justify-center"},{default:t(()=>[(i(!0),w(y,null,v(r.value,(s,c)=>(i(),d(h,{cols:"12",sm:"6",md:"4",class:"d-flex justify-center",key:c},{default:t(()=>[n("div",O,[n("div",W,[n("img",{src:s.urlToImage,alt:""},null,8,Z)]),n("div",G,[n("a",{href:s.url,target:"_blank",class:"littleNewsTitle"},l(s.title),9,H),n("p",J,l(s.description),1),n("p",Q,l(S(s.publishedAt)),1),o(k,{class:"newsBtn",onClick:te=>B(s)},{default:t(()=>[x("Let's talk News")]),_:2},1032,["onClick"])])])]),_:2},1024))),128)),o(h,{cols:"12",class:"d-flex justify-center"},{default:t(()=>[o(k,{onClick:A},{default:t(()=>[x("More News")]),_:1})]),_:1})]),_:1})]),_:1}))}},le=z(X,[["__scopeId","data-v-8026e80c"]]);export{le as default};
